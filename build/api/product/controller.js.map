{"version":3,"sources":["../../../src/api/product/controller.js"],"names":["create","data","callback","newProduct","save","err","get","id","Product","findById","product","getAll","find","update","_id","title","price","description","previewImage","remove","findByIdAndRemove","productApi"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,MAAM,GAAG,SAATA,MAAS,CAASC,IAAT,EAAeC,QAAf,EAAyB;AACtC,MAAMC,UAAU,GAAG,oBAAQF,IAAR,CAAnB;AACAE,EAAAA,UAAU,CAACC,IAAX,CAAgB,UAAAC,GAAG,EAAI;AACrB,QAAIA,GAAJ,EAAS,MAAMA,GAAN;;AACT,QAAIH,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACC,UAAD,CAAR;AACD;AACF,GALD;AAMD,CARD;;AAUA,IAAMG,GAAG,GAAG,SAANA,GAAM,CAASC,EAAT,EAAaL,QAAb,EAAuB;AACjCM,iBAAQC,QAAR,CAAiBF,EAAjB,EAAqB,UAACF,GAAD,EAAMK,OAAN,EAAkB;AACrC,QAAIL,GAAJ,EAAS,MAAMA,GAAN;AACTH,IAAAA,QAAQ,CAACQ,OAAD,CAAR;AACD,GAHD;AAID,CALD;;AAOA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAST,QAAT,EAAmB;AAChCM,iBAAQI,IAAR,CAAa,EAAb,EAAiB,UAACP,GAAD,EAAMK,OAAN,EAAkB;AACjC,QAAIL,GAAJ,EAAS,MAAMA,GAAN;AACTH,IAAAA,QAAQ,CAACQ,OAAD,CAAR;AACD,GAHD;AAID,CALD;;AAOA,IAAMG,MAAM,GAAG,SAATA,MAAS,CAASZ,IAAT,EAAeC,QAAf,EAAyB;AACtCM,iBAAQC,QAAR,CAAiBR,IAAI,CAACa,GAAtB,EAA2B,UAACT,GAAD,EAAMK,OAAN,EAAkB;AAC3C,QAAIL,GAAJ,EAAS,MAAMA,GAAN;AAETK,IAAAA,OAAO,CAACK,KAAR,GAAgBd,IAAI,CAACc,KAArB;AACAL,IAAAA,OAAO,CAACM,KAAR,GAAgBf,IAAI,CAACe,KAArB;AACAN,IAAAA,OAAO,CAACO,WAAR,GAAsBhB,IAAI,CAACgB,WAA3B;AACAP,IAAAA,OAAO,CAACQ,YAAR,GAAuBjB,IAAI,CAACiB,YAA5B;AAEAR,IAAAA,OAAO,CAACN,IAAR,CAAa,UAASC,GAAT,EAAc;AACzB,UAAIA,GAAJ,EAAS,MAAMA,GAAN;AACTH,MAAAA,QAAQ,CAACQ,OAAD,CAAR;AACD,KAHD;AAID,GAZD;AAaD,CAdD;;AAgBA,IAAMS,MAAM,GAAG,SAATA,MAAS,CAASZ,EAAT,EAAaL,QAAb,EAAuB;AACpCM,iBAAQY,iBAAR,CAA0Bb,EAA1B,EAA8B,UAAAF,GAAG,EAAI;AACnC,QAAIA,GAAJ,EAAS,MAAMA,GAAN;AACTH,IAAAA,QAAQ;AACT,GAHD;AAID,CALD;;AAOO,IAAMmB,UAAU,GAAG;AACxBf,EAAAA,GAAG,EAAHA,GADwB;AAExBK,EAAAA,MAAM,EAANA,MAFwB;AAGxBX,EAAAA,MAAM,EAANA,MAHwB;AAIxBa,EAAAA,MAAM,EAANA,MAJwB;AAKxBM,EAAAA,MAAM,EAANA;AALwB,CAAnB","sourcesContent":["import { Product } from \"./model\";\r\n\r\nconst create = function(data, callback) {\r\n  const newProduct = Product(data);\r\n  newProduct.save(err => {\r\n    if (err) throw err;\r\n    if (callback) {\r\n      callback(newProduct);\r\n    }\r\n  });\r\n};\r\n\r\nconst get = function(id, callback) {\r\n  Product.findById(id, (err, product) => {\r\n    if (err) throw err;\r\n    callback(product);\r\n  });\r\n};\r\n\r\nconst getAll = function(callback) {\r\n  Product.find({}, (err, product) => {\r\n    if (err) throw err;\r\n    callback(product);\r\n  });\r\n};\r\n\r\nconst update = function(data, callback) {\r\n  Product.findById(data._id, (err, product) => {\r\n    if (err) throw err;\r\n\r\n    product.title = data.title;\r\n    product.price = data.price;\r\n    product.description = data.description;\r\n    product.previewImage = data.previewImage;\r\n\r\n    product.save(function(err) {\r\n      if (err) throw err;\r\n      callback(product);\r\n    });\r\n  });\r\n};\r\n\r\nconst remove = function(id, callback) {\r\n  Product.findByIdAndRemove(id, err => {\r\n    if (err) throw err;\r\n    callback();\r\n  });\r\n};\r\n\r\nexport const productApi = {\r\n  get,\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove\r\n};\r\n"],"file":"controller.js"}